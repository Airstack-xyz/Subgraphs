specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  # - kind: ethereum
  #   name: EnsRegistry
  #   network: mainnet
  #   source:
  #     address: "0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"
  #     abi: EnsRegistry
  #     startBlock: 9380380
  #   mapping:
  #     kind: ethereum/events
  #     apiVersion: 0.0.7
  #     language: wasm/assemblyscript
  #     entities:
  #       - AirDomainOwnerChangedTransaction
  #     abis:
  #       - name: EnsRegistry
  #         file: ./abis/EnsRegistry.json
  #     eventHandlers:
  #       - event: NewOwner(indexed bytes32,indexed bytes32,address)
  #         handler: handleNewOwner
  #       - event: Transfer(indexed bytes32,address)
  #         handler: handleTransfer
  #       - event: NewResolver(indexed bytes32,address)
  #         handler: handleNewResolver
  #       - event: "NewTTL(indexed bytes32,uint64)"
  #         handler: handleNewTTL
  #     file: ./src/ens-registry.ts
  # - kind: ethereum/contract
  #   name: ENSRegistryOld
  #   network: mainnet
  #   source:
  #     address: "0x314159265dd8dbb310642f98f50c066173c1259b"
  #     abi: EnsRegistry
  #     startBlock: 3327417
  #   mapping:
  #     kind: ethereum/events
  #     apiVersion: 0.0.7
  #     language: wasm/assemblyscript
  #     entities:
  #       - AirDomainOwnerChangedTransaction
  #     abis:
  #       - name: EnsRegistry
  #         file: ./abis/EnsRegistry.json
  #     eventHandlers:
  #       - event: NewOwner(indexed bytes32,indexed bytes32,address)
  #         handler: handleNewOwnerOldRegistry
  #       - event: Transfer(indexed bytes32,address)
  #         handler: handleTransferOldRegistry
  #       - event: NewResolver(indexed bytes32,address)
  #         handler: handleNewResolverOldRegistry
  #       - event: NewTTL(indexed bytes32,uint64)
  #         handler: handleNewTTLOldRegistry
  #     file: ./src/ens-registry.ts
  - kind: ethereum/contract
    name: BaseRegistrar
    network: mainnet
    source:
      address: "0x57f1887a8BF19b14fC0dF6Fd9B2acc9Af147eA85"
      abi: BaseRegistrar
      startBlock: 9380410
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/eth-registrar.ts
      entities:
        - Registration
        - NameRegistered
        - NameRenewed
        - NameTransferred
      abis:
        - name: BaseRegistrar
          file: ./abis/BaseRegistrar.json
      eventHandlers:
        - event: NameRegistered(indexed uint256,indexed address,uint256)
          handler: handleNameRegistered
        # - event: NameRenewed(indexed uint256,uint256)
        #   handler: handleNameRenewed